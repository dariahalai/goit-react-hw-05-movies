"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[112],{112:function(e,t,n){n.r(t),n.d(t,{default:function(){return v}});var i=n(439),o=n(791),a=n(87),r=n(689),s=n(425),c="MoviesList_moviesList__P6SP5",u="MoviesList_moviesListItem__OFqms",l="MoviesList_moviesListLink__8Ci-i",f=n(184),h=function(e){var t=e.query,n=(0,o.useState)(""),h=(0,i.Z)(n,2),m=h[0],_=h[1],p=(0,o.useState)(1),g=(0,i.Z)(p,2),v=g[0],d=g[1],b=(0,o.useState)(0),S=(0,i.Z)(b,2),x=S[0],j=S[1],y=(0,o.useState)([]),k=(0,i.Z)(y,2),C=k[0],L=k[1],N=(0,r.TH)();(0,o.useEffect)((function(){_(t)}),[t]),(0,o.useEffect)((function(){m&&fetch("https://api.themoviedb.org/3/search/movie?api_key=9068359f92c010fa6a3cf763f10a0606&language=en-US&query=".concat(m,"&page=").concat(v,"&include_adult=false")).then((function(e){return e.json()})).then((function(e){var t=e.results,n=e.total_pages;t.length||console.log("oops,nothing in search");var i=t.map((function(e){return{id:e.id,original_title:e.original_title}}));L(i),j(n)})).catch((function(e){console.log(e)}))}),[m,v]);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("ul",{className:c,children:C.map((function(e){var t=e.id,n=e.original_title;return(0,f.jsx)("li",{className:u,children:(0,f.jsxs)(a.rU,{className:l,state:{from:N},to:"/movies/".concat(t),children:[(0,f.jsx)(s.MGh,{style:{paddingRight:"2px"}}),n]})},t)}))}),(0,f.jsx)("button",{type:"button",onClick:function(){v!==x&&d((function(e){return e+1}))},children:"Next page"}),(0,f.jsx)("button",{type:"button",onClick:function(){1!==v&&d((function(e){return e-1}))},children:"Prev page"})]})},m="Searchbar_form__D-hp5",_="Searchbar_formInput__gui4+",p="Searchbar_btn__MFSUa",g=function(e){var t=e.onSubmit,n=(0,o.useState)(""),a=(0,i.Z)(n,2),r=a[0],s=a[1];return(0,f.jsxs)("form",{className:m,onSubmit:function(e){e.preventDefault(),""!==r.trim()?(t(r),s("")):console.log("Please, enter correct search word!")},children:[(0,f.jsx)("input",{onChange:function(e){s(e.currentTarget.value.toLowerCase())},className:_,type:"text",name:"query",value:r,autoComplete:"off",autoFocus:!0,placeholder:"Search movies"}),(0,f.jsx)("button",{className:p,type:"submit",children:"Search"})]})},v=function(e){var t=e.onSubmit,n=e.query;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(g,{onSubmit:t}),(0,f.jsx)(h,{query:n})]})}}}]);
//# sourceMappingURL=112.65affea2.chunk.js.map