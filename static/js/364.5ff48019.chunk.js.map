{"version":3,"file":"static/js/364.5ff48019.chunk.js","mappings":"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","sources":["webpack://goit-react-hw-05-movies/./src/components/MoviesList/MoviesList.module.css?de3d","components/MoviesList/MoviesList.jsx","webpack://goit-react-hw-05-movies/./src/components/Searchbar/Searchbar.module.css?8d9e","components/Searchbar/Searchbar.jsx","pages/MoviesPage/MoviesPage.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"moviesContainer\":\"MoviesList_moviesContainer__5HpR2\",\"moviesList\":\"MoviesList_moviesList__P6SP5\",\"moviesListItem\":\"MoviesList_moviesListItem__OFqms\",\"moviesListLink\":\"MoviesList_moviesListLink__8Ci-i\",\"btn\":\"MoviesList_btn__4ijtm\",\"btnItem\":\"MoviesList_btnItem__eHWaQ\"};","import { useState, useEffect } from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport { RiMovie2Line } from 'react-icons/ri';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nimport css from './MoviesList.module.css';\nimport Loader from 'components/Loader/Loader';\n\nconst MoviesList = ({ query }) => {\n  const [searchQuery, setSearchQuery] = useState('');\n  const [page, setPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(0);\n  const [searchMovies, setSearchMovies] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  const location = useLocation();\n\n  useEffect(() => {\n    setSearchQuery(query);\n  }, [query]);\n  useEffect(() => {\n    if (!searchQuery) {\n      return;\n    }\n    setLoading(true);\n    fetch(\n      `https://api.themoviedb.org/3/search/movie?api_key=9068359f92c010fa6a3cf763f10a0606&language=en-US&query=${searchQuery}&page=${page}&include_adult=false`\n    )\n      .then(res => res.json())\n      .then(data => {\n        const { results,total_pages } = data;\n        if (!results.length) {\n          toast.error('Try again with another search word');\n        }\n        const movies = results.map(({ id, original_title }) => ({\n          id,\n          original_title,\n        }));\n        setSearchMovies(movies);\n        setTotalPages(total_pages);\n      })\n      .catch(() => {\n        toast.error('Something went wrong');\n      })\n      .finally(() => setLoading(false));\n  }, [searchQuery, page]);\n  const nexPage = () => {\n    if(page === totalPages){\n      return\n    }\n    setPage(prev => prev + 1);\n  }\n    const prevPage = () => {\n      if(page === 1){\n        return\n      }\n      setPage(prev => prev - 1);\n  };\n\n  if (loading) {\n    return <Loader/>;\n  }\n  return (\n    searchMovies.length > 0 && \n    <div className={css.moviesContainer}>\n      <ul className={css.moviesList}>\n        {searchMovies.map(({ id, original_title }) => (\n          <li key={id} className={css.moviesListItem}>\n            <Link\n              className={css.moviesListLink}\n              state={{ from: location }}\n              to={`/movies/${id}`}\n            >\n              <RiMovie2Line style={{ paddingRight: '2px' }} />\n              {original_title}\n            </Link>\n          </li>\n        ))}\n      </ul>\n      <ul>\n        <li className={css.btnItem}><button className={css.btn} type=\"button\" onClick={nexPage}>Next page</button></li>\n        <li className={css.btnItem}><button className={css.btn} type=\"button\" onClick={prevPage}>Prev page</button></li>\n      </ul>\n    </div>\n  );\n};\n\nexport default MoviesList;\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"Searchbar_form__D-hp5\",\"formInput\":\"Searchbar_formInput__gui4+\",\"btn\":\"Searchbar_btn__MFSUa\"};","import { useState } from 'react';\nimport css from './Searchbar.module.css';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nconst Searchbar = ({ onSubmit }) => {\n  const [query, setQuery] = useState('');\n  const handleChange = e => {\n    setQuery(e.currentTarget.value.toLowerCase());\n  };\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (query.trim() === '') {\n      toast.warn('Please, enter correct search word!');\n      return;\n    }\n    onSubmit(query);\n    setQuery('');\n  };\n  return (\n    <form   className={css.form} onSubmit={handleSubmit}>\n      <input\n        onChange={handleChange}\n        className={css.formInput}\n        type=\"text\"\n        name=\"query\"\n        value={query}\n        autoComplete=\"off\"\n        autoFocus\n        placeholder=\"Search movies\"\n      />\n      <button   className={css.btn} type=\"submit\">Search</button>\n    </form>\n  );\n};\n\nexport default Searchbar;\n","import MoviesList from \"components/MoviesList\";\nimport Searchbar from \"components/Searchbar\";\nimport PropTypes from 'prop-types';\n// import { useState,useEffect } from \"react\";\n\n const MoviesPage = ({onSubmit,query}) =>{\n   return(\n    <>\n    <Searchbar onSubmit={onSubmit}/>\n    <MoviesList query={query}/> \n    </>\n   )\n}\nMoviesPage.propTypes = {\n  query: PropTypes.string.isRequired,\n  onSubmit:PropTypes.func.isRequired\n};\nexport default MoviesPage;"],"names":["query","useState","searchQuery","setSearchQuery","page","setPage","totalPages","setTotalPages","searchMovies","setSearchMovies","loading","setLoading","location","useLocation","useEffect","fetch","then","res","json","data","results","total_pages","length","toast","movies","map","id","original_title","catch","finally","Loader","className","css","state","from","to","style","paddingRight","type","onClick","prev","onSubmit","setQuery","e","preventDefault","trim","onChange","currentTarget","value","toLowerCase","name","autoComplete","autoFocus","placeholder"],"sourceRoot":""}