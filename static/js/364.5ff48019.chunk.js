"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[364],{364:function(e,t,n){n.r(t),n.d(t,{default:function(){return S}});var i=n(439),a=n(791),s=n(87),r=n(689),o=n(425),c=n(596),u=(n(462),"MoviesList_moviesContainer__5HpR2"),l="MoviesList_moviesList__P6SP5",m="MoviesList_moviesListItem__OFqms",h="MoviesList_moviesListLink__8Ci-i",_="MoviesList_btn__4ijtm",f="MoviesList_btnItem__eHWaQ",v=n(673),d=n(184),p=function(e){var t=e.query,n=(0,a.useState)(""),p=(0,i.Z)(n,2),g=p[0],x=p[1],b=(0,a.useState)(1),j=(0,i.Z)(b,2),S=j[0],y=j[1],N=(0,a.useState)(0),w=(0,i.Z)(N,2),L=w[0],C=w[1],k=(0,a.useState)([]),M=(0,i.Z)(k,2),Z=M[0],q=M[1],F=(0,a.useState)(!1),P=(0,i.Z)(F,2),A=P[0],H=P[1],I=(0,r.TH)();(0,a.useEffect)((function(){x(t)}),[t]),(0,a.useEffect)((function(){g&&(H(!0),fetch("https://api.themoviedb.org/3/search/movie?api_key=9068359f92c010fa6a3cf763f10a0606&language=en-US&query=".concat(g,"&page=").concat(S,"&include_adult=false")).then((function(e){return e.json()})).then((function(e){var t=e.results,n=e.total_pages;t.length||c.Am.error("Try again with another search word");var i=t.map((function(e){return{id:e.id,original_title:e.original_title}}));q(i),C(n)})).catch((function(){c.Am.error("Something went wrong")})).finally((function(){return H(!1)})))}),[g,S]);return A?(0,d.jsx)(v.Z,{}):Z.length>0&&(0,d.jsxs)("div",{className:u,children:[(0,d.jsx)("ul",{className:l,children:Z.map((function(e){var t=e.id,n=e.original_title;return(0,d.jsx)("li",{className:m,children:(0,d.jsxs)(s.rU,{className:h,state:{from:I},to:"/movies/".concat(t),children:[(0,d.jsx)(o.MGh,{style:{paddingRight:"2px"}}),n]})},t)}))}),(0,d.jsxs)("ul",{children:[(0,d.jsx)("li",{className:f,children:(0,d.jsx)("button",{className:_,type:"button",onClick:function(){S!==L&&y((function(e){return e+1}))},children:"Next page"})}),(0,d.jsx)("li",{className:f,children:(0,d.jsx)("button",{className:_,type:"button",onClick:function(){1!==S&&y((function(e){return e-1}))},children:"Prev page"})})]})]})},g="Searchbar_form__D-hp5",x="Searchbar_formInput__gui4+",b="Searchbar_btn__MFSUa",j=function(e){var t=e.onSubmit,n=(0,a.useState)(""),s=(0,i.Z)(n,2),r=s[0],o=s[1];return(0,d.jsxs)("form",{className:g,onSubmit:function(e){e.preventDefault(),""!==r.trim()?(t(r),o("")):c.Am.warn("Please, enter correct search word!")},children:[(0,d.jsx)("input",{onChange:function(e){o(e.currentTarget.value.toLowerCase())},className:x,type:"text",name:"query",value:r,autoComplete:"off",autoFocus:!0,placeholder:"Search movies"}),(0,d.jsx)("button",{className:b,type:"submit",children:"Search"})]})},S=function(e){var t=e.onSubmit,n=e.query;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(j,{onSubmit:t}),(0,d.jsx)(p,{query:n})]})}}}]);
//# sourceMappingURL=364.5ff48019.chunk.js.map